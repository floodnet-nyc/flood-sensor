# Flood Sensor Deployment Manual
Once the sensor deployment location is identified, this manual explains the next steps to deploy a [FloodNet](https://www.floodnet.nyc) flood sensor. This is the second stage in deploying a flood sensor, and the first is detailed in the [Flood Hotspots Identification](https://github.com/floodnet-nyc/flood-sensor/blob/main/deployment/hotspot%20identification/flood-hotspots-identification.md) document.

**Table of Contents:**
- [Flood Sensor Deployment Manual](#flood-sensor-deployment-manual)
  - [1. Things to do - Before leaving the lab](#1-things-to-do---before-leaving-the-lab)
    - [1.1. Checklist](#11-checklist)
    - [1.2. Notes on Sensor mount preparation](#12-notes-on-sensor-mount-preparation)
    - [1.3. Registering sensor on TTN Application](#13-registering-sensor-on-ttn-application)
    - [1.4. Acquiring FloodNet approval](#14-acquiring-floodnet-approval)
    - [1.5. Acquiring Approval for Mounting Location](#15-acquiring-approval-for-mounting-location)
  - [2. Confirming Mounting Location on the Ground](#2-confirming-mounting-location-on-the-ground)
  - [3. Sensor Installation Process](#3-sensor-installation-process)
    - [3.1. Accessing the infrastructure](#31-accessing-the-infrastructure)
    - [3.2. Mount installation](#32-mount-installation)
    - [3.3. Solar Panel installation](#33-solar-panel-installation)
    - [3.4. Levelling](#34-levelling)
  - [4. Joining the FloodNet network](#4-joining-the-floodnet-network)
  - [5. Start Sensing](#5-start-sensing)
  - [6. Signage](#6-signage)
  - [7. Photo](#7-photo)
  - [8. Next Steps](#8-next-steps)
    - [8.1 Sensor Locations Logged in Database](#81-sensor-locations-logged-in-database)

## 1. Things to do - Before leaving the lab
This section details how we prepare for sensor deployment. Steps include compiling tools, preparing mounting equipment, and adding the sensor to the TTN app. 
### 1.1. Checklist
This section contains the checklist for necessary tools, hardware, and equipment needed for the sensor deployment process.
| No | Item                                       | Count/sensor |
|----|--------------------------------------------|-------|
| 1  | [High leverage combination pliers](https://www.knipex.com/products/combination-and-multifunctional-pliers/high-leverage-combination-pliers/high-leverage-combination-pliers/0205200)           | 1     |
| 2  | [Adjustable wrench](https://www.kleintools.com/catalog/adjustable-wrenches/adjustable-wrench-standard-capacity-18-inch)                          | 1     |
| 3  | [Phillips #2 screwdriver](https://www.kleintools.com/catalog/screwdrivers/2-phillips-screwdriver-4-round-shank)                    | 1     |
|  4  | [Oversized Clipped Washers](https://www.mcmaster.com/93409A136/)                                           |    4   |
|  5  | [Green Powder-Coated Steel Strut Channel with Mounting Plate]()                                           |    1   |
|  6  | [Stainless Steel Hex Head Screw - 7/16"-14 thread size](https://www.mcmaster.com/92800A393/)                                           |    4   |
|  7  |  [Locknuts - 7/16"-14 thread size](https://www.mcmaster.com/90630A112/)                                        |    4   |
### 1.2. Notes on Sensor mount preparation
After we have identified the ideal mounting infrastructure (see [Flood Hotspots Identification](https://github.com/floodnet-nyc/flood-sensor/blob/main/deployment/hotspot%20identification/flood-hotspots-identification.md) document), the next step is to identify the mounting position on the post/pole itself. 

Below are a few examples of different DOT signpost designs found across NYC, explaining optimal sensor placement scenarios.

*<insert_image_signpost_with_parking_sign>*

*<insert_image_signpost_with_stop_sign>*

*<insert_images_other_types>*

### 1.3. Registering sensor on TTN Application

### 1.4. Acquiring FloodNet approval
Sensor locations confirmed in weekly meeting prior to deployment

### 1.5. Acquiring Approval for Mounting Location
We have blanket approval from DOT to mount sensors on drive rails, also known as U-Channel posts. Each month, we update them on where new sensors have been installed. We have to obtain special approval to mount on other types of DOT infrastructure.

To mount on a utility pole, we have to obtain approval from the company that owns that pole. This process varies depending on the company.

## 2. Confirming Mounting Location on the Ground
Though we try to identify optimal sensor placement [before leaving the lab](https://github.com/floodnet-nyc/flood-sensor/blob/main/deployment/hotspot%20identification/flood-hotspots-identification.md), unexpected obstacles can arise once we arrive at the mounting site. Ideally, drive rails should be perpendicular to the sidewalk and well secured. They should not be overly shaded by a large building or aboveground train track. It is also to make sure that the sensor is not mounted in the path of a truck or bus.

Sometimes, a new mounting location will have to be selected in the field. Helpful clues for selecting a flood-prone location include:
- Drive rail is close to a storm drain
- Street near drive rail is muddy and/or marked by the accumulation of trash
- Drive rail is located on the north side of the street, or has good sunlight exposure
- Drive rail is tall enough for sensor to be out of reach

## 3. Sensor Installation Process
The following steps detail the sensor installation process to be followed in the field.

### 3.1. Accessing the infrastructure

### 3.2. Mount installation 

### 3.3. Solar Panel installation
To maximize solar power harvesting, the solar panel should be south-facing and exposed to direct sunlight. This factors into location selection, as discussed in the [Flood Hotspots Identification](https://github.com/floodnet-nyc/flood-sensor/blob/main/deployment/hotspot%20identification/flood-hotspots-identification.md) document, but we also have to adjust the panel orientation as we are installing the sensor itself.

### 3.4. Levelling
Though we try to avoid mounting on overly slanted drive rails, a bit of slant is almost unavoidable. Once the sensor is partially secured to the drive rail, we use a level to determine how the pitch of the drive rail is impacting the angle of the mounting infrastructure. We use washers, zip ties, or other spacers to adjust the angle at which the sensor is mounted to the drive rail.

*<insert_image_sensor_angle_adjusted_with_spacers>*

## 4. Joining the FloodNet network

## 5. Start Sensing

## 6. Signage
Mounting metal sign on drive rail (two nut and bolt fastners) or placing sticker on other mounting point.

*<insert_image_sensor_signage>*

## 7. Photo
Photos of sensor installed on location (for records and use in FieldKit dashboard). Photo should include surrounding area (from approx. 10 feet away).

## 8. Next Steps
After a successful installation, follow the below steps to complete the sensor deployment process:
### 8.1 Sensor Locations Logged in Database
New sensor locations should be recorded into master spreadsheet as well as deployment map
